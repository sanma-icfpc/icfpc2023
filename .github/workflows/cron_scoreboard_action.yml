name: track-scoreboard
run-name: Track scoreboard

on:
  schedule:
    - cron: '*/5 * * * *'

jobs:
  build:
    name: get-scoreboard
    runs-on: ubuntu-latest
    steps:
      - name: Prepare
        uses: actions/checkout@v3
      - run: |
          pip install python-dateutil
          python3 tools/api.py scoreboard
          git config user.name  "Cron"
          git config user.email "github@peria.jp"
          git config -l
      - name: get-scoreboard
        run: |
          python3 tools/api.py scoreboard
      - name: commit
        run: |
          git add data/scoreboard
          git commit -m 'Update score board'
          git push
